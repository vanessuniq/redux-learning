<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Redux basic example</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
    <script src="https://unpkg.com/redux@latest/dist/redux.min.js"></script>
</head>

<body>
    <p>
        <span style="color:blue">Time: </span>
        <button style="background-color: peachpuff;" id="hours">00</button> :
        <button style="background-color: peachpuff;" id="mins">00</button> :
        <button style="background-color: peachpuff;" id="secs">00</button>
    </p>
    <p>
        <button id="decrement">Dislike</button>
        <span id="value">0</span> ðŸ’•
        <button id="increment">Like</button>
    </p>

    <script>
        // Define an initial state value for the app
        const initialState = {
            value: 0,
            hours: new Date().getHours(),
            mins: new Date().getMinutes(),
            secs: new Date().getSeconds()
        };
        // Create a "reducer" function that determines what the new state
        // should be when something happens in the app
        function likeReducer(state = initialState, action) {
            // Reducers usually look at the type of action that happened
            // to decide how to update the state
            switch (action.type) {
                case "like/increment":
                    return {...state,
                        value: state.value + 1
                    };
                case "like/decrement":
                    if (state.value > 0) return {...state,
                        value: state.value - 1
                    };
                default:
                    // If the reducer doesn't care about this action type,
                    // return the existing state unchanged
                    return state;
            }
        };

        // Create a new Redux store with the `createStore` method,
        // and use the `likeReducer` for the update logic
        const store = Redux.createStore(likeReducer);

        // get the element from UI containg the value for the number of likes
        const likesElement = document.getElementById("value");

        // update the likes value whenever the state contained in the store changes
        function render() {
            const state = store.getState();
            likesElement.textContent = state.value.toString();
        };
        // update the likes value with the current state
        render();
        // Subscribe the UI to the store so that it rerenders only when the state changes
        store.subscribe(render);
        // Handle user inputs by "dispatching" action objects,
        // which should describe "what happened" in the app
        document
            .getElementById("increment")
            .addEventListener("click", function() {
                store.dispatch({
                    type: "like/increment"
                });

            });

        document
            .getElementById("decrement")
            .addEventListener("click", function() {
                store.dispatch({
                    type: "like/decrement"
                });

            });
    </script>
</body>

</html>